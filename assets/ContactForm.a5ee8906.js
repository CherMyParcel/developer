var P=Object.defineProperty,$=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var V=(t,e,r)=>e in t?P(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,F=(t,e)=>{for(var r in e||(e={}))x.call(e,r)&&V(t,r,e[r]);if(C)for(var r of C(e))B.call(e,r)&&V(t,r,e[r]);return t},R=(t,e)=>$(t,L(e));import{d as w,p as f,q as I,s as q,x as O,c as H,r as p,o as g,a as T,f as k,F as D,y as N,z as m,w as A,e as U,t as _,A as z}from"./app.fff2c476.js";import J from"./FormField.c25b0db2.js";import K from"./FormInput.e24744f1.js";import{u as j,F as Y}from"./FormSelect.2229cac7.js";import W from"./FormTextArea.f261964c.js";import{M as G}from"./MPButton.d889a502.js";import Q from"./Message.131ced50.js";import{_ as M}from"./plugin-vue_export-helper.21dcd24c.js";import{i as X}from"./isOfType.bdaf6504.js";import"./defaultInputClasses.a793e972.js";import"./Icon.586a4184.js";import"./useTailwindVariant.37bda7c7.js";import"./toArray.7df412a1.js";function b(){return b=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},b.apply(this,arguments)}var Z=function(){var e=!1,r=[],a=function(){if(!e){e=!0;for(var u=0,c=r.length;u<c;u++)r[u]()}},o=function(u){if(!e){r.push(u);return}u()},s={resolved:function(){return e},resolve:a,promise:{then:o}};return s},E=Object.prototype.hasOwnProperty;function ee(){var t=Z();return{notify:function(){t.resolve()},wait:function(){return t.promise},render:function(r,a,o){this.wait().then(function(){o(window.grecaptcha.render(r,a))})},reset:function(r){typeof r!="undefined"&&(this.assertLoaded(),this.wait().then(function(){return window.grecaptcha.reset(r)}))},execute:function(r){typeof r!="undefined"&&(this.assertLoaded(),this.wait().then(function(){return window.grecaptcha.execute(r)}))},checkRecaptchaLoad:function(){E.call(window,"grecaptcha")&&E.call(window.grecaptcha,"render")&&this.notify()},assertLoaded:function(){if(!t.resolved())throw new Error("ReCAPTCHA has not been loaded")}}}var v=ee();typeof window!="undefined"&&(window.vueRecaptchaApiLoaded=v.notify);var te=w({name:"VueRecaptcha",props:{sitekey:{type:String,required:!0},theme:{type:String},badge:{type:String},type:{type:String},size:{type:String},tabindex:{type:String},loadRecaptchaScript:{type:Boolean,default:!0},recaptchaScriptId:{type:String,default:"__RECAPTCHA_SCRIPT"},recaptchaHost:{type:String,default:"www.google.com"},language:{type:String,default:""}},emits:["render","verify","expired","error"],setup:function(e,r){var a=r.slots,o=r.emit,s=f(null),i=f(null),u=function(h){o("verify",h)},c=function(){o("expired")},d=function(){o("error")};return I(function(){if(v.checkRecaptchaLoad(),e.loadRecaptchaScript&&!document.getElementById(e.recaptchaScriptId)){var l=document.createElement("script");l.id=e.recaptchaScriptId,l.src="https://"+e.recaptchaHost+"/recaptcha/api.js?onload=vueRecaptchaApiLoaded&render=explicit&hl="+e.language,l.async=!0,l.defer=!0,document.head.appendChild(l)}var h=b({},e,{callback:u,"expired-callback":c,"error-callback":d}),y=s.value,n=a.default?y.children[0]:y;v.render(n,h,function(S){i.value=S,o("render",S)})}),{root:s,widgetId:i,reset:function(){v.reset(i.value)},execute:function(){v.execute(i.value)}}},render:function(){var e=this.$slots.default,r;return typeof e=="function"?r=e():r=e,q("div",{ref:"root"},r)}});const re=w({name:"ReCaptcha",components:{VueRecaptcha:te},emits:["verify"],setup:()=>{const t=O();return{RECAPTCHA_SITE_KEY:"6Ldfn8cfAAAAAJ-131JCFn9skW7N3k-7B0UKuHBi",theme:H(()=>t.value?"dark":"light")}}});function ae(t,e,r,a,o,s){const i=p("VueRecaptcha");return g(),T(i,{theme:t.theme,sitekey:t.RECAPTCHA_SITE_KEY,onVerify:e[0]||(e[0]=u=>t.$emit("verify",u))},null,8,["theme","sitekey"])}var ne=M(re,[["render",ae],["__file","ReCaptcha.vue"]]);const oe=()=>{const t=j();return e=>t.value.hasOwnProperty(e)?t.value[e]:e},se=w({name:"ContactForm",components:{Message:Q,ReCaptcha:ne,FormField:J,FormTextArea:W,FormSelect:Y,FormInput:K,MPButton:G},setup:()=>{const t={name:"",email:"",subject:"",message:""},e=f(t),r=f(),a=f(!1),o=j(),s=f([]),i=oe();return{refs:e,loading:a,localeData:o,messages:s,onSubmit:async()=>{if(a.value)return;if(s.value=[],!r.value){s.value.push({type:"error",message:o.value.error_captcha_invalid});return}a.value=!0;let c;try{if(c=await fetch("https://vqthadq4nvo5i2cgvxpu3xw3zm0qxquc.lambda-url.eu-central-1.on.aws",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(R(F({},e.value),{recaptchaToken:r.value}))}),!c.ok){(await c.json()).data.errors.messages.forEach(l=>{s.value.push({type:"error",message:i(l)})});return}s.value.push({type:"success",message:o.value.message_submitted}),e.value=t}catch(d){X(d,"message")&&s.value.push({type:"error",message:i(d.message)})}a.value=!1},verify:c=>{s.value=[],r.value=c},subjects:[{name:"feature_request",label:"Feature request"},{name:"integration_request",label:"Integration request"},{name:"bug",label:"Bug report"},{name:"partnership",label:"Partnership"},{name:"security",label:"Security issue"},{name:"other",label:"Other"}]}}});function ie(t,e,r,a,o,s){const i=p("Message"),u=p("FormInput"),c=p("FormSelect"),d=p("FormTextArea"),l=p("ReCaptcha"),h=p("MPButton"),y=p("FormField");return g(),k("form",{class:"gap-3 grid",onSubmit:e[4]||(e[4]=z((...n)=>t.onSubmit&&t.onSubmit(...n),["prevent"]))},[(g(!0),k(D,null,N(t.messages,n=>(g(),T(i,{key:n,type:n.type,textContent:_(n.message)},null,8,["type","textContent"]))),128)),m(u,{id:"name",modelValue:t.refs.name,"onUpdate:modelValue":e[0]||(e[0]=n=>t.refs.name=n),modelModifiers:{trim:!0},autocomplete:"name",label:"Name"},null,8,["modelValue"]),m(u,{id:"email",modelValue:t.refs.email,"onUpdate:modelValue":e[1]||(e[1]=n=>t.refs.email=n),modelModifiers:{trim:!0},type:"email",label:"Email"},null,8,["modelValue"]),m(c,{id:"subject",modelValue:t.refs.subject,"onUpdate:modelValue":e[2]||(e[2]=n=>t.refs.subject=n),modelModifiers:{trim:!0},options:t.subjects,"empty-option":"",label:"Subject"},null,8,["modelValue","options"]),m(d,{id:"message",modelValue:t.refs.message,"onUpdate:modelValue":e[3]||(e[3]=n=>t.refs.message=n),modelModifiers:{trim:!0},label:"Message"},null,8,["modelValue"]),m(y,null,{default:A(()=>[m(l,{class:"pb-3",onVerify:t.verify},null,8,["onVerify"]),m(h,{disabled:t.loading,type:"submit"},{default:A(()=>[U(_(t.localeData.submit),1)]),_:1},8,["disabled"])]),_:1})],32)}var Ce=M(se,[["render",ie],["__file","ContactForm.vue"]]);export{Ce as default};
