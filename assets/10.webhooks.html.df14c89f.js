import{_ as l}from"./plugin-vue_export-helper.21dcd24c.js";import{o as h,c as u,b as t,a as s,w as n,e as r,d as e,r as o}from"./app.4e270158.js";const _={},b=r('<h2 id="_10-webhooks" tabindex="-1"><a class="header-anchor" href="#_10-webhooks" aria-hidden="true" tabindex="-1">#</a> 10. Webhooks</h2><h3 id="_10-a" tabindex="-1"><a class="header-anchor" href="#_10-a" aria-hidden="true" tabindex="-1">#</a> 10.A Add subscription</h3><h4 id="_10-a-1" tabindex="-1"><a class="header-anchor" href="#_10-a-1" aria-hidden="true" tabindex="-1">#</a> 10.A.1 Overview</h4><p>Use this endpoint to subscribe to an event in our API. Upon success an HTTP/1.1 200 OK with subscription ids is returned. You must use HTTPS for callback because it&#39;s secure and tamper-proof. You can only have one webhook of each type at a time for a shop so adding the same webhook overwrites any existing one. We always send the webhook to a URL with lowercase characters. Therefore, it is necessary to use lowercase characters in the URL of the webhook call.</p><p>We currently have three available hooks: <code>shipment_status_change</code>, <code>shipment_label_created</code> and <code>order_status_change</code>:</p>',5),k=e("shipment_status_change: Whenever the "),m=e("shipment_status"),g=e(" of a shipment changes, this webhook will send you an update with the new value. We will not send an update with a status 1."),y=e("shipment_label_created: When a label is created asynchronously (for example when "),f=e("creating shipments"),x=e(" using accept header "),w=t("code",null,"application/vnd.shipment_label+json;charset=utf-8",-1),E=e("), this webhook will send you a message with the URL of the label."),A=e("order_status_change: Whenever the "),q=e("order_status"),T=e(" of an order changes, this webhook will send you an update with the new value."),R=e("You can test webhooks with "),v=e("Webhook Tester"),C=e(". You can also use the backoffice to update the webhook URL."),P=r(`<h4 id="_10-a-2" tabindex="-1"><a class="header-anchor" href="#_10-a-2" aria-hidden="true" tabindex="-1">#</a> 10.A.2 Reference</h4><table><tbody><tr><td>URI</td><td>https://api.myparcel.nl/webhook_subscriptions</td></tr><tr><td>Methods</td><td>POST</td></tr><tr><td rowspan="3">Required request headers</td><td>Authorization: basic BASE64(API_KEY)</td></tr><tr><td>User-Agent: CustomApiCall/2</td></tr><tr><td>Content-type: application/json; charset=utf-8</td></tr><tr><td>URI parameters</td><td>None.</td></tr><tr><td>Query parameters</td><td>None.</td></tr><tr><td>Request body</td><td>array of Subscription objects.</td></tr><tr><td>Response</td><td>HTTP/1.1 200 OK</td></tr><tr><td>Response body</td><td>SubscriptionIds</td></tr><tr><td>Error response</td><td>HTTP/1.1 4xx &lt; MESSAGE &gt;</td></tr><tr><td>Error response body</td><td>Error</td></tr></tbody></table><h4 id="_10-a-3" tabindex="-1"><a class="header-anchor" href="#_10-a-3" aria-hidden="true" tabindex="-1">#</a> 10.A.3 Example</h4><p><strong>Request</strong></p><div class="language-text ext-text"><pre class="language-text"><code>POST https://api.myparcel.nl/webhook_subscriptions HTTP/1.1
User-Agent: CustomApiCall/2
Authorization: bearer BASE64_ENCODED_API_KEY
Content-Type:application/json; charset=utf-8
</code></pre></div><div class="language-json ext-json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;webhook_subscriptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;hook&quot;</span><span class="token operator">:</span> <span class="token string">&quot;shipment_status_change&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://seoshop.nl/myparcel/notifications&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>Response</strong></p>`,7),U=r(`<div class="language-json ext-json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;ids&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_10-b" tabindex="-1"><a class="header-anchor" href="#_10-b" aria-hidden="true" tabindex="-1">#</a> 10.B Get subscriptions</h3><h4 id="_10-b-1" tabindex="-1"><a class="header-anchor" href="#_10-b-1" aria-hidden="true" tabindex="-1">#</a> 10.B.1 Overview</h4>`,3),S=e("Use this endpoint to fetch your active webhook subscriptions. Upon success an HTTP/1.1 200 OK with an "),j=e("array"),B=e(" of "),H=e("Subscription"),I=e(" objects is returned."),N=r('<h4 id="_10-b-2" tabindex="-1"><a class="header-anchor" href="#_10-b-2" aria-hidden="true" tabindex="-1">#</a> 10.B.2 Reference</h4><table><tbody><tr><td>URI</td><td>https://api.myparcel.nl/webhook_subscriptions/</td></tr><tr><td>Methods</td><td>GET</td></tr><tr><td rowspan="2">Required request headers</td><td>Authorization: basic BASE64(API_KEY)</td></tr><tr><td>User-Agent: CustomApiCall/2</td></tr><tr><td>Response</td><td>HTTP/1.1 201 OK</td></tr><tr><td>Response body</td><td>array of Subscription objects</td></tr><tr><td>Error response</td><td>HTTP/1.1 4xx &lt; MESSAGE &gt;</td></tr><tr><td>Error response body</td><td>Error</td></tr></tbody></table><h4 id="_10-b-3" tabindex="-1"><a class="header-anchor" href="#_10-b-3" aria-hidden="true" tabindex="-1">#</a> 10.B.3 Parameters</h4>',3),Y=t("strong",null,"id",-1),L=t("br",null,null,-1),O=e(" Data type: "),D=e("integer"),K=t("br",null,null,-1),M=e(" This is the subscription id. You can specify multiple subscription ids by semicolon separating them on the URI."),W=t("h4",{id:"_10-b-4",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#_10-b-4","aria-hidden":"true",tabindex:"-1"},"#"),e(" 10.B.4 Example")],-1),z=t("p",null,[t("strong",null,"Request")],-1),G=t("div",{class:"language-text ext-text"},[t("pre",{class:"language-text"},[t("code",null,`GET https://api.myparcel.nl/webhook_subscriptions/12 HTTP/1.1
User-Agent: CustomApiCall/2
Authorization: bearer BASE64_ENCODED_API_KEY
`)])],-1),V=t("p",null,[t("strong",null,"Response")],-1),Q=r(`<div class="language-json ext-json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;webhook_subscriptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
        <span class="token property">&quot;hook&quot;</span><span class="token operator">:</span> <span class="token string">&quot;shipment_status_change&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://seoshop.nl/myparcel/notifications&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_10-c" tabindex="-1"><a class="header-anchor" href="#_10-c" aria-hidden="true" tabindex="-1">#</a> 10.C Delete subscription</h3><h4 id="_10-c-1" tabindex="-1"><a class="header-anchor" href="#_10-c-1" aria-hidden="true" tabindex="-1">#</a> 10.C.1 Overview</h4><p>Use this endpoint to delete webhook subscriptions. You can specify multiple subscription ids by semicolon separating them on the URI. Upon delete an <code>&lt;Http code=204 /&gt;</code> is returned.</p><h4 id="_10-c-2" tabindex="-1"><a class="header-anchor" href="#_10-c-2" aria-hidden="true" tabindex="-1">#</a> 10.C.2 Reference</h4><table><tbody><tr><td>URI</td><td>https://api.myparcel.nl/webhook_subscriptions/id[;id]</td></tr><tr><td>Methods</td><td>DELETE</td></tr><tr><td rowspan="3">Required request headers</td><td>Authorization: basic BASE64(API_KEY)</td></tr><tr><td>User-Agent: CustomApiCall/2</td></tr><tr><td>Content-type: application/json; charset=utf-8</td></tr><tr><td>URI parameters</td><td>id = Subscription.id.</td></tr><tr><td>Query parameters</td><td>None.</td></tr><tr><td>Request body</td><td>None.</td></tr><tr><td>Response</td><td>HTTP/1.1 204 No Content</td></tr><tr><td>Response body</td><td>None.</td></tr><tr><td>Error response</td><td>HTTP/1.1 4xx &lt; MESSAGE &gt;</td></tr><tr><td>Error response body</td><td>Error</td></tr></tbody></table><h4 id="_10-c-3" tabindex="-1"><a class="header-anchor" href="#_10-c-3" aria-hidden="true" tabindex="-1">#</a> 10.C.3 Parameters</h4>`,7),F=t("strong",null,"id",-1),J=t("br",null,null,-1),X=e(" Data type: "),Z=e("integer"),$=e(" .id"),tt=t("br",null,null,-1),et=e(" The id of the subscription to delete. You can specify multiple subscriptions by semicolon separating them."),st=t("h4",{id:"_10-c-4",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#_10-c-4","aria-hidden":"true",tabindex:"-1"},"#"),e(" 10.C.4 Example")],-1),nt=t("p",null,[t("strong",null,"Request")],-1),at=t("div",{class:"language-text ext-text"},[t("pre",{class:"language-text"},[t("code",null,`DELETE https://api.myparcel.nl/webhook_subscriptions/1 HTTP/1.1
User-Agent: CustomApiCall/2
Authorization: bearer BASE64_ENCODED_API_KEY
`)])],-1),ot=t("p",null,[t("strong",null,"Response")],-1);function rt(dt,it){const a=o("RouterLink"),i=o("ApiLink"),p=o("AutoLink"),c=o("Message"),d=o("Http");return h(),u("div",null,[b,t("ul",null,[t("li",null,[k,s(a,{to:"/api-reference/04.data-types.html#shipment-status",tabindex:"-1"},{default:n(()=>[m]),_:1}),g]),t("li",null,[y,s(i,{to:"6_B_2"},{default:n(()=>[f]),_:1}),x,w,E]),t("li",null,[A,s(a,{to:"/api-reference/04.data-types.html#order-status",tabindex:"-1"},{default:n(()=>[q]),_:1}),T])]),s(c,{title:"",type:"tip"},{default:n(()=>[t("p",null,[R,s(p,{item:"https://webhook.site/"},{default:n(()=>[v]),_:1}),C])]),_:1}),P,s(d,{code:"200"}),U,t("p",null,[S,s(a,{to:"/api-reference/04.data-types.html#array",tabindex:"-1"},{default:n(()=>[j]),_:1}),B,s(i,{to:"11_A"},{default:n(()=>[H]),_:1}),I]),N,t("p",null,[Y,L,O,s(a,{to:"/api-reference/04.data-types.html#integer",tabindex:"-1"},{default:n(()=>[D]),_:1}),K,M]),W,z,G,V,s(d,{code:"200"}),Q,t("p",null,[F,J,X,s(a,{to:"/api-reference/04.data-types.html#integer",tabindex:"-1"},{default:n(()=>[Z]),_:1}),$,tt,et]),st,nt,at,ot,s(d,{code:"204"})])}var lt=l(_,[["render",rt],["__file","10.webhooks.html.vue"]]);export{lt as default};
